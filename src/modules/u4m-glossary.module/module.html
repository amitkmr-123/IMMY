{% set moduleName = 'u4m-glossary' %}
{% include "../partials/u4-module-includes.html" %}

{{ macros.introGroup(module.intro_content, module.module_settings) }} 


<div class="glossMain">
  <form class="glossTop" autocomplete="off">
    <div class="page-center">
      <div class="glossCat"> 
        <div class="mobileIcon"><h4>Glossary Categories
        <span class="iconWrapper plus">
		<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"></path></svg>
		</span>
    <span class="iconWrapper minus">
		<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M200-440v-80h560v80H200Z"></path></svg>
		</span>
        </h4></div>
        <div class="catItems">
          <ul>
            <li>
              <a href="#a">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="a">
                <span>A</span>
              </a>
            </li>
            <li>
              <a href="#b">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="b">
                <span>B</span>
              </a>
            </li>
            <li>
              <a href="#c">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="c">
                <span>C</span>
              </a>
            </li>
            <li>
              <a href="#d">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="d">
                <span>D</span>
              </a>
            </li>
            <li>
              <a href="#e">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="e">
                <span>E</span>
              </a>
            </li>
            <li>
              <a href="#f">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="f">
                <span>F</span>
              </a>
            </li>
            <li>
              <a href="#g">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="g">
                <span>G</span>
              </a>
            </li>
            <li>
              <a href="#h">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="h">
                <span>H</span>
              </a>
            </li>
            <li>
              <a href="#i">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="i">
                <span>I</span>
              </a>
            </li>
            <li>
              <a href="#j">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="j">
                <span>J</span>
              </a>
            </li>
            <li>
              <a href="#k">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="k">
                <span>K</span>
              </a>
            </li>
            <li>
              <a href="#l">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="l">
                <span>L</span>
              </a>
            </li>
            <li>
              <a href="#m">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="m">
                <span>M</span>
              </a>
            </li>
            <li>
              <a href="#n">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="n">
                <span>N</span>
              </a>
            </li>
            <li>
              <a href="#o">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="o">
                <span>O</span>
              </a>
            </li>
            <li>
              <a href="#p">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="p">
                <span>P</span>
              </a>
            </li>
            <li>
              <a href="#q">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="q">
                <span>Q</span>
              </a>
            </li>
            <li>
              <a href="#r">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="r">
                <span>R</span>
              </a>
            </li>
            <li>
              <a href="#s">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="s">
                <span>S</span>
              </a>
            </li>
            <li>
              <a href="#t">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="t">
                <span>T</span>
              </a>
            </li>
            <li>
              <a href="#u">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="u">
                <span>U</span>
              </a>
            </li>
            <li>
              <a href="#v">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="v">
                <span>V</span>
              </a>
            </li>
            <li>
              <a href="#w">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="w">
                <span>W</span>
              </a>
            </li>
            <li>
              <a href="#x">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="x">
                <span>X</span>
              </a>
            </li>
            <li>
              <a href="#y">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="y">
                <span>Y</span>
              </a>
            </li>
            <li>
              <a href="#z">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="z">
                <span>Z</span>
              </a>
            </li>
            <li>
              <a href="#symbol">
                <input type="radio" name="alphabets" onsubmit="this.form.submit()" value="#symbol">
                <span>#</span>
              </a>
            </li>

          </ul> 
        </div>
      </div>
      <div class="glossSearch">
        <h4>Search Glossary</h4>
        <input type="search" name="search" onsubmit="this.form.submit()" placeholder="Search by Keyword">
      </div>
    </div>
  </form>
  <div class="glossInr">

  {% set all_rows = hubdb_table_rows(module.select_hubdb_table, "orderBy=name") %}
  {% set rows = [] %}

  {% if request.query_dict.search %}
    {% set query = "orderBy=name&name__icontains=" ~ request.query_dict.search %}
    {% set rows = hubdb_table_rows(module.select_hubdb_table, query) %}
  {% elif request.query_dict.alphabets %}
    {% set alpha = request.query_dict.alphabets|lower %}
    {% for item in all_rows %}
      {% set first_char = item.name|truncate(1, true, "")|lower %}
      {% set is_symbol = first_char not in 'abcdefghijklmnopqrstuvwxyz' %}
      {% if alpha == 'symbol' and is_symbol %}
        {% do rows.append(item) %}
      {% elif alpha == first_char %}
        {% do rows.append(item) %}
      {% endif %}
    {% endfor %}
  {% else %}
    {% set rows = all_rows %}
  {% endif %}

  {% set az_rows = [] %}
  {% set symbol_rows = [] %}

  {% for row in rows %}
    {% set first_char = row.name|truncate(1,true,"")|lower %}
    {% if first_char in 'abcdefghijklmnopqrstuvwxyz' %}
      {% do az_rows.append(row) %}
    {% else %}
      {% do symbol_rows.append(row) %}
    {% endif %}
  {% endfor %}

  <div class="glossList">
    {% if (az_rows|length + symbol_rows|length) == 0 %}
      <div class="errMsg"><div class="page-center">No Result Found</div></div>
    {% endif %}

    {% set printed_letters = [] %}

    {# ---- Aâ€“Z FIRST ---- #}
    {% for row in az_rows %}
      {% set first_letter = row.name[:1]|lower %}
      {% set section_id = first_letter %}

      {% if section_id not in printed_letters %}
        {% if printed_letters|length > 0 %}</div></div>{% endif %}
        <div id="{{ section_id }}" class="glossGroup">
          <div class="page-center">
            <div class="first_letter">{{ first_letter|upper }}</div>
            {% set printed_letters = printed_letters + [section_id] %}
      {% endif %}

      <div class="glossItems">
        <div class="glossItembrd">
          <div class="glossItem">
            <div class="name"><h4>{% if row.italicize %}<i>{% endif %}{{ row.name }}{% if row.italicize %}</i>{% endif %}</h4></div>
            <div class="cnt" {% if row.description|length < 300 %}style="height: auto;"{% endif %}>{{ row.description }}</div>
          </div>
          <div class="glossBtnwrap">
            {% if row.description|length > 300 %}
            <div class="glossBtn">
              <div class="glossBtntext hs-sec-btn">See More <span class="arrow">
                <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6 7.42843L0 1.77306L1.275 0.571289L6 5.0249L10.725 0.571289L12 1.77306L6 7.42843Z" fill="black"/>
                </svg>
              </span></div>
              <div class="glossBtnless hs-sec-btn">See Less <span class="arrow">
                <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6 7.42843L0 1.77306L1.275 0.571289L6 5.0249L10.725 0.571289L12 1.77306L6 7.42843Z" fill="black"/>
                </svg>
              </span></div>
            </div>
            {% endif %}
          </div>
        </div>
      </div>

      {% if loop.last %}</div></div>{% endif %}
    {% endfor %}

    {# ---- SYMBOLS LAST ---- #}
    {% if symbol_rows|length > 0 %}
      <div id="symbol" class="glossGroup">
        <div class="page-center">
          <div class="first_letter">#</div>

          {% for row in symbol_rows %}
            <div class="glossItems">
              <div class="glossItembrd">
                <div class="glossItem">
                  <div class="name"><h4>{% if row.italicize %}<i>{% endif %}{{ row.name }}{% if row.italicize %}</i>{% endif %}</h4></div>
                  <div class="cnt" {% if row.description|length < 300 %}style="height: auto;"{% endif %}>{{ row.description }}</div>
                </div>
                <div class="glossBtnwrap">
                  {% if row.description|length > 300 %}
                  <div class="glossBtn">
                    <div class="glossBtntext hs-sec-btn">See More <span class="arrow">
                      <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 7.42843L0 1.77306L1.275 0.571289L6 5.0249L10.725 0.571289L12 1.77306L6 7.42843Z" fill="black"/>
                      </svg>
                    </span></div>
                    <div class="glossBtnless hs-sec-btn">See Less <span class="arrow">
                      <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 7.42843L0 1.77306L1.275 0.571289L6 5.0249L10.725 0.571289L12 1.77306L6 7.42843Z" fill="black"/>
                      </svg>
                    </span></div>
                  </div>
                  {% endif %}
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    {% endif %}
  </div>
</div>





</div> 
</div>




</div>
</div>
</section>


{% require_css %}

<style>
  .u4m-glossary.dnd_padd form.glossTop .page-center .glossSearch input[type="search"] {
    background-image: url({{ get_asset_url('../../templates/images/Vector.png') }});
  }
</style>

{% end_require_css %}


